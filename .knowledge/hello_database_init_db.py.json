{"is_source_file": true, "format": "Python", "description": "This script initializes an SQLite database for the 'hello_database' project, creating necessary tables, indexes, and helper files, and setting up an idempotent environment for the app's data storage and logging.", "external_files": ["os", "sqlite3", "pathlib.Path"], "external_methods": ["os.path.exists", "os.path, mkdir", "sqlite3.connect", "sqlite3.Connection.execute", "sqlite3.Cursor.execute", "sqlite3.Cursor.fetchone", "Path.resolve", "Path.parent", "Path.mkdir", "Path / filename"], "published": ["main", "_create_schema", "_write_helper_files", "_container_db_path", "_connect"], "classes": [], "methods": [{"name": "Path _container_db_path()", "description": "Returns the stable database path within the container directory.", "scope": "", "scopeKind": ""}, {"name": "sqlite3.Connection _connect(db_path: Path)", "description": "Creates and returns a SQLite connection with specific pragmas set.", "scope": "", "scopeKind": ""}, {"name": "None _create_schema(conn: sqlite3.Connection)", "description": "Creates database tables, indexes, and seeds initial data in an idempotent manner.", "scope": "", "scopeKind": ""}, {"name": "None _write_helper_files(db_path: Path)", "description": "Writes helper files for database connection info and environment variables.", "scope": "", "scopeKind": ""}, {"name": "None main()", "description": "Main entry point that initializes the database schema, helper files, and outputs setup information.", "scope": "", "scopeKind": ""}], "calls": ["sqlite3.connect", "conn.execute", "conn.cursor", "cursor.execute", "cursor.fetchone", "_create_schema", "_write_helper_files", "import subprocess", "subprocess.run"], "search-terms": ["SQLite database initialization", "request_logs table creation", "schema idempotent setup", "helper file generation", "database schema", "init_db.py"], "state": 2, "file_id": 1, "knowledge_revision": 20, "git_revision": "38c207e4a2c114c2e9847f81d930b4acd27c77b5", "revision_history": [{"16": "8631387648017adbec753687cf027fa5b22f3039"}, {"20": "38c207e4a2c114c2e9847f81d930b4acd27c77b5"}], "ctags": [{"_type": "tag", "name": "DB_NAME", "path": "/home/kavia/workspace/code-generation/hello-world-location-and-weather-dashboard-228752-228762/hello_database/init_db.py", "pattern": "/^DB_NAME = \"myapp.db\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_connect", "path": "/home/kavia/workspace/code-generation/hello-world-location-and-weather-dashboard-228752-228762/hello_database/init_db.py", "pattern": "/^def _connect(db_path: Path) -> sqlite3.Connection:$/", "language": "Python", "typeref": "typename:sqlite3.Connection", "kind": "function", "signature": "(db_path: Path)"}, {"_type": "tag", "name": "_container_db_path", "path": "/home/kavia/workspace/code-generation/hello-world-location-and-weather-dashboard-228752-228762/hello_database/init_db.py", "pattern": "/^def _container_db_path() -> Path:$/", "language": "Python", "typeref": "typename:Path", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_create_schema", "path": "/home/kavia/workspace/code-generation/hello-world-location-and-weather-dashboard-228752-228762/hello_database/init_db.py", "pattern": "/^def _create_schema(conn: sqlite3.Connection) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(conn: sqlite3.Connection)"}, {"_type": "tag", "name": "_write_helper_files", "path": "/home/kavia/workspace/code-generation/hello-world-location-and-weather-dashboard-228752-228762/hello_database/init_db.py", "pattern": "/^def _write_helper_files(db_path: Path) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db_path: Path)"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/hello-world-location-and-weather-dashboard-228752-228762/hello_database/init_db.py", "pattern": "/^def main() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}], "hash": "79c82dbe7fb6553a79c4df21d09da871", "format-version": 4, "code-base-name": "hello_database", "filename": "hello_database/init_db.py", "fields": [{"name": "DB_NAME = \"myapp.db\"", "scope": "", "scopeKind": "", "description": "unavailable"}]}